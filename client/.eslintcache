[{"S:\\TileApp\\client\\src\\index.js":"1","S:\\TileApp\\client\\src\\reportWebVitals.js":"2","S:\\TileApp\\client\\src\\App.js":"3","S:\\TileApp\\client\\src\\LeafletMap.js":"4"},{"size":551,"mtime":1615753483129,"results":"5","hashOfConfig":"6"},{"size":375,"mtime":1615753483139,"results":"7","hashOfConfig":"6"},{"size":564,"mtime":1616097513990,"results":"8","hashOfConfig":"6"},{"size":26858,"mtime":1616115150593,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1ikd3fj",{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"16","messages":"17","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},"S:\\TileApp\\client\\src\\index.js",[],"S:\\TileApp\\client\\src\\reportWebVitals.js",[],"S:\\TileApp\\client\\src\\App.js",[],"S:\\TileApp\\client\\src\\LeafletMap.js",["19","20","21","22","23","24","25","26","27","28","29","30","31"],"import './LeafletMap.css';\r\nimport { MapContainer, TileLayer, CircleMarker, Polyline, useMap, useMapEvents, ScaleControl} from 'react-leaflet';\r\nimport L, { LatLng } from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { Card, Button as BButton}  from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { Collapse, Button, Row, Col, Menu, Dropdown, Space, Modal} from 'antd';\r\nimport { DownOutlined} from '@ant-design/icons';\r\nimport 'antd/dist/antd.css';\r\nimport React, { useState, useEffect, useRef} from 'react';\r\n\r\nfunction isEmpty(obj) {\r\n    return Object.keys(obj).length === 0;\r\n}\r\n\r\nfunction MapEvents(props) {\r\n    const map = useMapEvents({\r\n      click: (e) => {\r\n        props.mouse(e.latlng);\r\n        //map.panTo(e.latlng);\r\n      },     \r\n    });\r\n\r\n    return null;\r\n  }\r\n\r\n  function MapData(props) {\r\n    const map = useMap();\r\n    if (props.bounds !== null) {\r\n        map.fitBounds(props.bounds)\r\n    } \r\n    \r\n    return null;\r\n  }\r\n\r\n\r\nfunction Thumbnail(props) {\r\n    if (props.photo !== null) {\r\n        return (<img className=\"image\"\r\n        src={`data:image/jpeg;base64,${props.photo}`}/>\r\n        );\r\n    } else {\r\n        return null;\r\n    }\r\n    \r\n}\r\n\r\n  function FootpathPolyLine(props) {\r\n    const redOptions = { color: 'red' }\r\n    let otherOptions = null;\r\n    let geojson = JSON.parse(props.positions.geojson);\r\n    let coords = []\r\n    geojson.coordinates.forEach(element => {\r\n        let temp = element[0];\r\n        element[0] = element[1];\r\n        element[1] = temp;\r\n        coords.push(element)\r\n    });\r\n    let arr = props.positions.id.split('_');\r\n    switch(props.positions.grade) {\r\n        case 0:\r\n            if (arr[arr.length - 1] % 2 === 0) {\r\n                otherOptions = { color: 'orange' }\r\n            } else {\r\n                otherOptions = { color: 'blue' } \r\n            }\r\n     \r\n          break;\r\n        default:\r\n            \r\n            otherOptions = { color: 'lime' }\r\n        break;\r\n    }\r\n    return ( <Polyline\r\n        key={`marker-${props.idx}`} \r\n        pathOptions={(props.idx === 0) ? redOptions: otherOptions}\r\n        positions={coords} \r\n        weight={5}\r\n        eventHandlers={ (props.idx === 0) ? {\r\n            click: () => {\r\n              props.parentShowModal(true, props.positions.id, props.positions.grade, props.positions.label, props.positions.side);\r\n            },\r\n          } : null}\r\n        >\r\n      </Polyline>);\r\n  }\r\n\r\n\r\nfunction LeafletMap(props) {\r\n\r\n    const gnssObj = {\r\n        latitude: \"---\",\r\n        longitude: \"---\",\r\n        altitude: \"---\",\r\n        satellites: \"---\",\r\n        hdop: \"---\",\r\n        course: \"---\",\r\n        speed: \"---\"\r\n    }\r\n\r\n    const cameraObj = {\r\n        battery: \"---\",\r\n        error: \"---\",\r\n        frequency: \"---\",\r\n        filename: \"---\",\r\n        savetime: \"---\",\r\n    }\r\n\r\n    const gradeButtons = [1, 2, 3, 4 ,5]\r\n\r\n    const EARTH_RADIUS = 6371000 //metres\r\n    const [latlng, setPosition] = useState([]);\r\n    const [footpaths, setFootpaths] = useState([]);\r\n    const [mode, setMode] = useState(\"AUTO\");\r\n    const [project, setProject] = useState(null);\r\n    const [photo, setPhoto] = useState(null);\r\n    const [gpsData, setGpsData] = useState([gnssObj]);\r\n    const [cameraData, setCameraData] = useState([cameraObj]);\r\n    const [host] = useState(\"localhost:5000\");\r\n    const [gnssOnline, setgnssOnline] = useState(false);\r\n    const [camera, setCamera] = useState(\"Connect\");\r\n    const [connectDisabled, setConnectDisabled] = useState(true);\r\n    const [recording, setRecording] = useState(false);\r\n    const [cameraName, setCameraName] = useState(\"---\");\r\n    const [baud, setBaud] = useState(\"---\");\r\n    const [comPort, setComPort] = useState(\"---\");\r\n    const [label, setLabel] = useState(null);\r\n    const [grade, setGrade] = useState(null);\r\n    const [side, setSide] = useState(null);\r\n    const [id, setId] = useState(null);\r\n    const [bounds, setBounds] = useState(null);\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n\r\n    const showModal = (isVisible, id, grade, label, side) => {\r\n        setId(id);\r\n        setLabel(label);\r\n        setGrade(grade);\r\n        setSide(side);\r\n        setIsModalVisible(isVisible);\r\n      };\r\n    \r\n      const handleOk = () => {\r\n        setIsModalVisible(false);\r\n      };\r\n    \r\n      const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n      };\r\n\r\n    useEffect(() => {\r\n        console.log(\"mount camera\")\r\n        let camera = localStorage.getItem(\"camera\");\r\n        if (camera === null) {\r\n            setCameraName(\"---\");\r\n        } else {\r\n            setCameraName(camera);\r\n        }\r\n    },[cameraName]);\r\n\r\n    useEffect(() => {\r\n        console.log(\"bounds\");\r\n    },[bounds]);\r\n\r\n    useEffect(() => {\r\n        \r\n        projectFootpaths();\r\n\r\n    },[]);\r\n       /**\r\n     * Calculates distance on earth surface\r\n     */\r\n    const calcGCDistance = (distance) => {\r\n        return distance * EARTH_RADIUS * (Math.PI /180);\r\n    }\r\n\r\n    const getBounds = (bounds) => {\r\n        let i = bounds.indexOf(\"(\");\r\n        let j = bounds.indexOf(\")\");\r\n        let boundsStr = bounds.substring(i + 1, j);\r\n        let s = boundsStr.split(\",\");\r\n        let cornerA = s[0].split(\" \");\r\n        let cornerB = s[1].split(\" \");\r\n        let latmin = Number(cornerA[1]);\r\n        let lngmin = Number(cornerA[0]);\r\n        let latmax = Number(cornerB[1]);\r\n        let lngmax = Number(cornerB[0])\r\n        let corner1 = L.latLng(latmax, lngmin);\r\n\r\n        let corner2 = L.latLng(latmin, lngmax);\r\n        return L.latLngBounds(corner1, corner2);\r\n    }\r\n\r\n    let online = false;\r\n    let interval = null;\r\n    const setOnline = (isOnline) => {\r\n        setgnssOnline(isOnline);\r\n        online = isOnline;\r\n    }\r\n\r\n    const pollServer = (rate) => {    \r\n        interval = setInterval(() => {\r\n            if(online) {\r\n            getPosition().then(data => {\r\n                if (typeof(data) !== \"undefined\") {\r\n                    setPhoto(data.photo)\r\n                    if (data.position !== null) {\r\n                        let lat = data.position.latitude;\r\n                        let lng = data.position.longitude;\r\n                        setPosition([L.latLng(lat, lng)]);\r\n                        setGpsData([data.position]);\r\n                        let f = null;\r\n                        let s = null;\r\n                        let fq = null;\r\n\r\n                        if (data.message.filename == null) {\r\n                            f = \"---\"\r\n                        } else {\r\n                            let filename = data.message.filename.split(\"_\");\r\n                            f = filename[filename.length - 1]\r\n                        }\r\n                        if (data.message.frequency == null) {\r\n                            fq = \"---\"\r\n                        } else {\r\n                            fq = data.message.frequency\r\n                        }\r\n                        if (data.message.savetime == null) {\r\n                            s = \"---\"\r\n                        } else {\r\n                            s = data.message.savetime\r\n                        }\r\n                        let cameraObj = {\r\n                            battery: data.message.battery,\r\n                            error: data.message.error,\r\n                            frequency: fq,\r\n                            filename: f,\r\n                            savetime: s,\r\n                        }\r\n                        setCameraData([cameraObj]);   \r\n                    }    \r\n                }               \r\n            })\r\n        }          \r\n        }, rate);     \r\n    }\r\n\r\n    const projectFootpaths = async () => {\r\n        \r\n        //if (mode === \"MANUAL\") {\r\n            try {\r\n                const response = await fetch(\"http://\" + host + '/footpaths', {\r\n                    method: 'POST',\r\n                    credentials: 'same-origin',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json',        \r\n                    },\r\n                    body: JSON.stringify({\r\n                        project: project,\r\n                    })\r\n                });\r\n                if (response.ok) {\r\n                    const body = await response.json();\r\n                    let bounds = getBounds(body.bbox.extent);\r\n                    setBounds(bounds);\r\n                    \r\n                    let fp = []\r\n                    //console.log(calcGCDistance(body.message[0].dist));\r\n                    for (let i = 0; i < body.data.length; i++) {\r\n                        fp.push(body.data[i])\r\n                    }\r\n                    setFootpaths(fp);\r\n                    return body; \r\n                } else {\r\n                    \r\n                    return Error(response);\r\n                }\r\n            } catch {\r\n                setOnline(false);\r\n                return new Error(\"connection error\")\r\n            }    \r\n        //}\r\n        \r\n    };\r\n\r\n    const mousePosition = async (latlng) => {\r\n        \r\n        if (mode === \"MANUAL\") {\r\n            try {\r\n                const response = await fetch(\"http://\" + host + '/footpath', {\r\n                    method: 'POST',\r\n                    credentials: 'same-origin',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json',        \r\n                    },\r\n                    body: JSON.stringify({\r\n                        project: project,\r\n                        lat: latlng.lat,\r\n                        lng: latlng.lng,\r\n                    })\r\n                });\r\n                if (response.ok) {\r\n                    const body = await response.json();\r\n                    let fp = []\r\n                    //console.log(calcGCDistance(body.message[0].dist));\r\n                    for (let i = 0; i < body.message.length; i++) {\r\n                        fp.push(body.message[i])\r\n                    }\r\n                    setFootpaths(fp);\r\n                    return body; \r\n                } else {\r\n                    \r\n                    return Error(response);\r\n                }\r\n            } catch {\r\n                setOnline(false);\r\n                return new Error(\"connection error\")\r\n            }    \r\n        }\r\n        \r\n    };\r\n\r\n    const updateGrade = async (id, grade) => {\r\n        \r\n        try {\r\n            const response = await fetch(\"http://\" + host + '/grade', {\r\n                method: 'POST',\r\n                credentials: 'same-origin',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',        \r\n                },\r\n                body: JSON.stringify({\r\n                    project: project,\r\n                    id: id,\r\n                    grade: grade,\r\n                })\r\n            });\r\n            if (response.ok) {\r\n                const body = await response.json();\r\n                \r\n                return body; \r\n            } else {\r\n                \r\n                return Error(response);\r\n            }\r\n        } catch {\r\n            setOnline(false);\r\n            return new Error(\"connection error\")\r\n        }      \r\n    };\r\n    \r\n    const callBackendAPI = async () => {\r\n        try {\r\n            const response = await fetch(\"http://\" + host + '/java', {\r\n                method: 'POST',\r\n                credentials: 'same-origin',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',        \r\n                },\r\n                body: JSON.stringify({\r\n                    camera: cameraName,\r\n                })\r\n            });\r\n            if (response.ok) {\r\n                const body = await response.json();\r\n\r\n                if (body.java === \"Connecting\") {\r\n                    setCamera(body.java);\r\n                }\r\n                return body; \r\n            } else {\r\n                console.log(response);\r\n                setOnline(false);\r\n                return Error(response);\r\n            }\r\n        } catch {\r\n            setOnline(false);\r\n            return new Error(\"connection error\")\r\n        } \r\n  \r\n    };\r\n      \r\n    const getPosition = async () => {\r\n            try {\r\n                const response = await fetch(\"http://\" + host + '/position') \r\n                if (!response.ok) {\r\n                    throw Error(response) \r\n                } else {\r\n                    try {\r\n                        const body = await response.json();\r\n                        if(body.message.connected) {\r\n                            setCamera(\"Connected\");\r\n                        } \r\n                        if (body.message !== null) {\r\n                            setRecording(body.message.recording);\r\n                        }\r\n                        if (!body.open) {\r\n                            setOnline(false);\r\n\r\n                        } else {\r\n                            return body;     \r\n                        }          \r\n                    } catch {\r\n                        console.log(\"position error\")\r\n                    }      \r\n                }\r\n                    //return body; \r\n            } catch {\r\n                setOnline(false);\r\n                setRecording(false);\r\n                setCamera(\"Error\");\r\n                console.log(\"server error\"); \r\n            }  \r\n    };\r\n\r\n      const clickAuto = (e) => {\r\n        if (e.target.innerHTML === \"AUTO\") {\r\n            setMode(\"MANUAL\");\r\n        } else {\r\n            setMode(\"AUTO\");\r\n        }\r\n      };\r\n\r\n    const clickOnline = (e) => {\r\n        e.preventDefault();\r\n        let res = callBackendAPI(); \r\n    };\r\n\r\n    const clickCamera = (e) => {\r\n        localStorage.setItem(\"camera\", e.key);\r\n        setCameraName(e.key);\r\n    }\r\n\r\n    const clickBaud = (e) => {\r\n        setBaud(e.key);\r\n    }\r\n\r\n    const clickCom = (e) => {\r\n        setComPort(e.key);\r\n    }\r\n\r\n    const clickGrade = (e) => {\r\n        setGrade(e.target.innerText);\r\n        updateGrade(id, e.target.innerText);        \r\n    }\r\n\r\n    /**\r\n     * Handler for clicking record button. Starts and stops android camera\r\n     * @param {click event} e \r\n     * @returns response\r\n     */\r\n    const clickRecord = async(e) => {\r\n        if (camera === \"Connected\") {\r\n            try {\r\n                let response = await fetch(\"http://\" + host + '/record', {\r\n                    method: 'POST',\r\n                    credentials: 'same-origin',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json',        \r\n                    },\r\n                    body: JSON.stringify({\r\n                        command: recording\r\n                    })\r\n                });\r\n                if (response.ok) {\r\n                    const body = await response.json();\r\n                    console.log(body)\r\n                    return body; \r\n                } else {\r\n                    console.log(response);\r\n                    return Error(response);\r\n                }\r\n            } catch {\r\n                return new Error(\"record error\")\r\n            } \r\n        }\r\n    \r\n    };\r\n\r\n    /**\r\n     * Handler for clicking gnss button. Checks if gnss online on server\r\n     * @param {click event} e \r\n     * @returns response\r\n     */\r\n     const clickGnss = async(e) => {\r\n        if(!gnssOnline) {\r\n            try {\r\n                let response = await fetch(\"http://\" + host + '/gnss', {\r\n                    method: 'POST',\r\n                    credentials: 'same-origin',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'Content-Type': 'application/json',        \r\n                    },\r\n                    body: JSON.stringify({\r\n                        com: comPort,\r\n                        baud: baud\r\n                    })\r\n                });\r\n                if (response.ok) {\r\n                    const body = await response.json();\r\n                    console.log(body)\r\n                    if (body.open) {\r\n                        setComPort(body.com)\r\n                        setOnline(true);\r\n                        setConnectDisabled(false);\r\n                        pollServer(1000);\r\n                    }\r\n                    return body; \r\n                } else {\r\n                    console.log(response);\r\n                    return Error(response);\r\n                }\r\n            } catch {\r\n                return new Error(\"record error\")\r\n            } \r\n        }\r\n        \r\n    };\r\n\r\n    const baudMenu = (\r\n        <Menu onClick={e => clickBaud(e)}>\r\n            <Menu.Item key=\"115200\">\r\n            115200\r\n            </Menu.Item>\r\n            <Menu.Item key=\"57600\">\r\n            57600\r\n            </Menu.Item >\r\n            <Menu.Item key=\"38400\">\r\n            38400\r\n            </Menu.Item>\r\n            <Menu.Item key=\"19200\">\r\n            19200\r\n            </Menu.Item>\r\n            <Menu.Item key=\"9600\">\r\n            9600\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n    const comMenu = (\r\n        <Menu onClick={e => clickCom(e)}>\r\n            <Menu.Item key=\"COM1\">\r\n            COM1\r\n            </Menu.Item>\r\n            <Menu.Item key=\"COM2\">\r\n            COM2\r\n            </Menu.Item >\r\n            <Menu.Item key=\"COM3\">\r\n            COM3\r\n            </Menu.Item>\r\n            <Menu.Item key=\"COM4\">\r\n            COM4\r\n            </Menu.Item>\r\n            <Menu.Item key=\"COM5\">\r\n            COM5\r\n            </Menu.Item>\r\n            <Menu.Item key=\"COM6\">\r\n            COM6\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n    const menu = (\r\n        <Menu onClick={e => clickCamera(e)}>\r\n            <Menu.Item key=\"C12\">\r\n            C12\r\n            </Menu.Item>\r\n            <Menu.Item key=\"C11\">\r\n             C11\r\n            </Menu.Item >\r\n            <Menu.Item key=\"C10\">\r\n            C10\r\n            </Menu.Item>\r\n        </Menu>\r\n    );\r\n\r\n  return (\r\n      \r\n    <React.Fragment>\r\n        <MapContainer \r\n            className=\"map\" \r\n            center={[-36.81835, 174.74581]} \r\n            zoom={12} \r\n            minZoom={10}\r\n            maxZoom={18}\r\n            scrollWheelZoom={true}\r\n            keyboard={true}\r\n            \r\n            eventHandlers={{\r\n                load: () => {\r\n                  console.log('onload')\r\n                },\r\n              }}\r\n        >\r\n        <TileLayer\r\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          //url=\"/tiles/auckland/{z}/{x}/{y}.png\"\r\n        />\r\n         <ScaleControl name=\"Scale\" className=\"scale\"/>\r\n        {latlng.map((position, idx) =>\r\n            <CircleMarker \r\n              key={`marker-${idx}`} \r\n              center={position}\r\n              radius ={5}\r\n              fill={true}\r\n              fillOpacity={1.0}\r\n              color={gnssOnline ? \"blue\": \"red\"}\r\n              eventHandlers={{\r\n                click: () => {\r\n                  console.log('marker clicked')\r\n                },\r\n              }}\r\n              >        \r\n            </CircleMarker>\r\n          )}\r\n          {footpaths.map((positions, idx) =>\r\n          <FootpathPolyLine\r\n            key={`marker-${idx}`} \r\n            parentShowModal={showModal}\r\n            positions={positions}\r\n            idx={idx}\r\n          />\r\n          )}\r\n           <MapEvents className=\"events\" mouse={mousePosition}/>\r\n           <MapData className=\"mapData\" bounds={bounds} center={latlng}/>\r\n      </MapContainer>\r\n      <div className=\"camera\">\r\n            <Card className=\"camera-card\">\r\n                <Card.Body border=\"secondary\">                    \r\n                 <div>\r\n                    <Thumbnail photo={photo}/>\r\n                </div>    \r\n                </Card.Body>\r\n            </Card>\r\n        </div>  \r\n        <div  className=\"buttons\">\r\n            <Space>\r\n            <Button \r\n                className=\"mode=btn\"\r\n                type=\"default\"\r\n                size=\"large\"\r\n                onClick={clickAuto}\r\n            >{mode}\r\n            </Button>\r\n            <Button \r\n                className=\"connect=btn\"\r\n                variant=\"primary\"\r\n                size=\"large\"\r\n                disabled={connectDisabled} \r\n                onClick={clickOnline} \r\n                >{camera}\r\n            </Button>      \r\n            </Space>\r\n            \r\n        </div>          \r\n        <Row className=\"tool-menu\">\r\n            <Col className=\"camera-menu\" span={10}>\r\n                <Collapse >\r\n                    <svg \r\n                        className=\"svg-status\" \r\n                        viewBox=\"1 1 10 10\" x=\"16\" \r\n                        width=\"16\" \r\n                        stroke={recording ? \"limegreen\": \"red\"} \r\n                        fill={recording ? \"limegreen\": \"red\"} \r\n                        onClick={clickRecord}\r\n                        >\r\n                        <circle cx=\"5\" cy=\"5\" r=\"3\" />\r\n                    </svg>  \r\n                    <Collapse.Panel \r\n                        className=\"camera-panel\" \r\n                        header=\"CAMERA\" \r\n                        key=\"1\">\r\n                    {cameraData.map((status, idx) =>\r\n                    <div key={`marker-${idx}`} >\r\n                    <div>\r\n                        <b>\r\n                            {\"Camera: \"}\r\n                        </b>\r\n                        <Dropdown overlay={menu} trigger=\"click\"  className=\"camera-dropdown\">\r\n                            <span className=\"camera-panel\"  onClick={e => e.preventDefault()}>\r\n                            {cameraName}<DownOutlined />\r\n                            </span>\r\n                        </Dropdown >\r\n                    </div>\r\n                        <div className=\"gps-panel\" >\r\n                            <b>Bat: {status.battery}%</b><br></br>\r\n                            <b>Error: {status.error}</b><br></br>\r\n                            <b>Frequency: {status.frequency}</b><br></br>\r\n                            <b>Photo: {status.filename}</b><br></br>\r\n                            <b>Save time: {status.savetime}ms</b>\r\n                        </div>\r\n                    </div>  \r\n                    )}\r\n                    </Collapse.Panel>\r\n                </Collapse>         \r\n            </Col>\r\n            <Col className=\"gps-menu\" span={10}>\r\n                <Collapse >\r\n                    <svg \r\n                        className=\"svg-status\" \r\n                        viewBox=\"1 1 10 10\" x=\"16\" \r\n                        width=\"16\" \r\n                        stroke={gnssOnline ? \"limegreen\": \"red\"} \r\n                        fill={gnssOnline ? \"limegreen\": \"red\"} \r\n                        onClick={clickGnss}\r\n                        >\r\n                        <circle cx=\"5\" cy=\"5\" r=\"3\" />\r\n                    </svg>       \r\n                    <Collapse.Panel \r\n                        className=\"gps-panel\" \r\n                        header=\"GNSS\" \r\n                        key=\"1\">\r\n                    {gpsData.map((position, idx) =>\r\n                    <div key={`marker-${idx}`} >\r\n                        <div className=\"gps-panel\" >\r\n                            <b>Lat: {position.latitude}</b><br></br>\r\n                            <b>Lng: {position.longitude}</b><br></br>\r\n                            <b>Alt: {position.altitude}m</b><br></br>\r\n                            <b>Sat: {position.satellites}</b><br></br>\r\n                            <b>HDop: {position.hdop}m</b><br></br>\r\n                            <b>Course: {position.course}</b><br></br>\r\n                            <b>Speed: {position.speed}km/hr</b>\r\n                        </div>\r\n                        <div>\r\n                        <b>{\"Baud: \"}</b>\r\n                        <Dropdown overlay={baudMenu} trigger=\"click\"  className=\"camera-dropdown\">\r\n                            <span className=\"camera-panel\"  onClick={e => e.preventDefault()}>\r\n                            {baud}<DownOutlined />\r\n                            </span>                   \r\n                        </Dropdown ><br></br>\r\n                        </div>  \r\n                        <b>{\"COM Port: \"}</b>\r\n                        <Dropdown overlay={comMenu} trigger=\"click\"  className=\"camera-dropdown\">\r\n                            <span className=\"camera-panel\"  onClick={e => e.preventDefault()}>\r\n                            {comPort}<DownOutlined />\r\n                            </span>\r\n                        </Dropdown >\r\n                        </div>\r\n                    )}\r\n                    </Collapse.Panel>\r\n                </Collapse>\r\n            </Col>\r\n            \r\n        </Row>\r\n        <Modal title={label + \" Grade: \" + grade} centered={true} width={400} visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>\r\n        <Space>\r\n            <Button \r\n                id={1}\r\n                className=\"grade1\"\r\n                type=\"default\"\r\n                size=\"large\"\r\n                onClick={e => clickGrade(e)}\r\n                >\r\n                <b>1</b>\r\n            </Button>\r\n            <Button \r\n                id={2}\r\n                className=\"grade2\"\r\n                type=\"default\"\r\n                size=\"large\"\r\n                onClick={clickGrade}\r\n                >\r\n                <b>2</b>\r\n            </Button>\r\n            <Button \r\n                id={3}\r\n                className=\"grade1=btn\"\r\n                type=\"default\"\r\n                size=\"large\"\r\n                onClick={clickGrade}\r\n                >\r\n                <b>3</b>\r\n            </Button>\r\n            <Button \r\n                id={4}\r\n                className=\"grade1=btn\"\r\n                type=\"default\"\r\n                size=\"large\"\r\n                onClick={clickGrade}\r\n                >\r\n                <b>4</b>\r\n            </Button>\r\n            <Button \r\n                id={5}\r\n                className=\"grade1=btn\"\r\n                type=\"default\"\r\n                size=\"large\"\r\n                onClick={clickGrade}\r\n                >\r\n                <b>5</b>\r\n            </Button>\r\n            <Button \r\n                id={0}\r\n                className=\"grade1=btn\"\r\n                type=\"default\"\r\n                size=\"large\"\r\n                onClick={clickGrade}\r\n                >\r\n                <b>Reset</b>\r\n            </Button>\r\n        </Space>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default LeafletMap;\r\n",{"ruleId":"32","severity":1,"message":"33","line":3,"column":13,"nodeType":"34","messageId":"35","endLine":3,"endColumn":19},{"ruleId":"32","severity":1,"message":"36","line":5,"column":26,"nodeType":"34","messageId":"35","endLine":5,"endColumn":33},{"ruleId":"32","severity":1,"message":"37","line":10,"column":38,"nodeType":"34","messageId":"35","endLine":10,"endColumn":44},{"ruleId":"32","severity":1,"message":"38","line":12,"column":10,"nodeType":"34","messageId":"35","endLine":12,"endColumn":17},{"ruleId":"32","severity":1,"message":"39","line":17,"column":11,"nodeType":"34","messageId":"35","endLine":17,"endColumn":14},{"ruleId":"40","severity":1,"message":"41","line":39,"column":17,"nodeType":"42","endLine":40,"endColumn":56},{"ruleId":"32","severity":1,"message":"43","line":109,"column":11,"nodeType":"34","messageId":"35","endLine":109,"endColumn":23},{"ruleId":"32","severity":1,"message":"44","line":115,"column":21,"nodeType":"34","messageId":"35","endLine":115,"endColumn":31},{"ruleId":"32","severity":1,"message":"45","line":129,"column":12,"nodeType":"34","messageId":"35","endLine":129,"endColumn":16},{"ruleId":"46","severity":1,"message":"47","line":168,"column":7,"nodeType":"48","endLine":168,"endColumn":9,"suggestions":"49"},{"ruleId":"32","severity":1,"message":"50","line":172,"column":11,"nodeType":"34","messageId":"35","endLine":172,"endColumn":25},{"ruleId":"32","severity":1,"message":"51","line":201,"column":9,"nodeType":"34","messageId":"35","endLine":201,"endColumn":17},{"ruleId":"32","severity":1,"message":"52","line":428,"column":13,"nodeType":"34","messageId":"35","endLine":428,"endColumn":16},"no-unused-vars","'LatLng' is defined but never used.","Identifier","unusedVar","'BButton' is defined but never used.","'useRef' is defined but never used.","'isEmpty' is defined but never used.","'map' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'gradeButtons' is assigned a value but never used.","'setProject' is assigned a value but never used.","'side' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'projectFootpaths'. Either include it or remove the dependency array.","ArrayExpression",["53"],"'calcGCDistance' is assigned a value but never used.","'interval' is assigned a value but never used.","'res' is assigned a value but never used.",{"desc":"54","fix":"55"},"Update the dependencies array to be: [projectFootpaths]",{"range":"56","text":"57"},[4846,4848],"[projectFootpaths]"]